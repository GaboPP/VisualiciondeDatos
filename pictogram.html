<!DOCTYPE html>
<html>
<head>	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
    <style>
        .liquidFillGaugeText { font-family: Helvetica; font-weight: bold; }
        body {
            font-family: 'Open Sans', sans-serif;
            font-size: 11px;
            font-weight: 300;
            /* fill: #242424; */
            text-align: center;
            /* text-shadow: 0 1px 0 #222222, 1px 0 0 #222222, -1px 0 0 #222222, 0 -1px 0 #222222; */
            cursor: default;
            background-color: #141f2d;
            color: white;
        }
        
        .legend {
            fill: #ffffff;
        }
        
        .tooltip {
            fill: #ffffff;
        }
    </style>
</head>
 
<body style="overflow-x: hidden;">
    <img src="./BM.png" style="
    /* right: 0; */
    top: 30px;
    position: fixed;
    z-index: -1;
    left: 0;
    width: 20%;">

    <div class="row">
        <div class="col-12 " style="color: white;">
        <span class="h1">Premios</span></div>
        <div class="col-12 shadow" style="color: white;">
            <svg width="400" height="200"></svg>
            <p class="h3">Hover over the stars to see more information.</p>
        </div>
        <div class="col-12">
            <br>
            <br>
            <h1>Variedad de temas en sus capítulos</h1>
        </div>
        <div class="col-6 d-flex justify-content-center">
            <br>
            <h4><u>Capitulos en temas de humanidad:</u></h4>
            <script type="text/javascript">
                
                dataset = {
                    "children": [
                        {"Name":"Crimen y castigo","Count":5},
                        {"Name":"Amor y relaciones","Count":4},
                        {"Name":"MEmoria","Count":3},
                        {"Name":"Política","Count":2},
                        {"Name":"Percepción del tiempo","Count":2},
                        {"Name":"Venganza","Count":2},
                        {"Name":"Chantaje","Count":2},
                        {"Name":"Governanza","Count":1},
                        {"Name":"Muerte y postvida","Count":1},
                        {"Name":"Entorno","Count":1},
                        {"Name":"Supervivencia","Count":1},
                        {"Name":"Paternidad","Count":1},
                        {"Name":"Privacidad","Count":1},
                        {"Name":"Miedo","Count":1},
                        {"Name":"Guerra y conflicto","Count":1},
                    ]
                };
        
                var diameter = 600;
                // var color = d3.scaleOrdinal(d3.schemeCategory20c);
                var color = d3.scaleOrdinal()
                        .range(["#ffd100", "#eec64f", "#ae8d0b", "#444e44", "#c1beba"]);
        
                var bubble = d3.pack(dataset)
                    .size([diameter, diameter])
                    .padding(1.5);
        
                var svg = d3.select("body")
                    .append("svg")
                    .attr("width", diameter)
                    .attr("height", diameter)
                    .attr("class", "bubble");
        
                var nodes = d3.hierarchy(dataset)
                    .sum(function(d) { return d.Count; });
        
                var node = svg.selectAll(".node")
                    .data(bubble(nodes).descendants())
                    .enter()
                    .filter(function(d){
                        return  !d.children
                    })
                    .append("g")
                    .attr("class", "node")
                    .attr("transform", function(d) {
                        return "translate(" + d.x + "," + d.y + ")";
                    });
        
                node.append("title")
                    .text(function(d) {
                        return d.Name + ": " + d.Count;
                    });
        
                node.append("circle")
                    .attr("r", function(d) {
                        return d.r;
                    })
                    .style("fill", function(d,i) {
                        return color(i);
                    });
        
                node.append("text")
                    .attr("dy", ".2em")
                    .style("text-anchor", "middle")
                    .text(function(d) {
                        console.log(d.data.children);
                        return d.data.Name.substring(0, d.r / 3);
                    })
                    .attr("font-family", "sans-serif")
                    .attr("font-size", function(d){
                        return d.r/5;
                    })
                    .attr("fill", "white");
        
                node.append("text")
                    .attr("dy", "1.3em")
                    .style("text-anchor", "middle")
                    .text(function(d) {
                        return d.data.Count;
                    })
                    .attr("font-family",  "Gill Sans", "Gill Sans MT")
                    .attr("font-size", function(d){
                        return d.r/5;
                    })
                    .attr("fill", "white");
        
                d3.select(self.frameElement)
                    .style("height", diameter + "px");
        
        
        
            </script>
        </div>
        <div class="col-6">
            <br>
            <h4><u>Capitulos en temas de Tecnología:</u></h4>
            <script type="text/javascript">
            
                dataset = {
                    "children": [{"Name":"Implante Neuronal","Count":8},
                        {"Name":"redes sociales","Count":6},
                        {"Name":"Respaldo de conciencia","Count":4},
                        {"Name":"Robotica","Count":3},
                        {"Name":"Gamificación","Count":2},
                        {"Name":"Realidad virtual","Count":2},
                        {"Name":"Ciberseguridad","Count":2},
                        {"Name":"Realidad aumentada","Count":1},
                        {"Name":"Ingeniería genética","Count":1}
                    ]
                };
        
        
                var diameter = 600;
                // var color = d3.scaleOrdinal(d3.schemeCategory20c);
                var color = d3.scaleOrdinal()
                        .range(["#ffd100", "#eec64f", "#ae8d0b", "#444e44", "#c1beba"]);
        
                var bubble = d3.pack(dataset)
                    .size([diameter, diameter])
                    .padding(1.5);
        
                var svg = d3.select("body")
                    .append("svg")
                    .attr("width", diameter)
                    .attr("height", diameter)
                    .attr("class", "bubble");
        
                var nodes = d3.hierarchy(dataset)
                    .sum(function(d) { return d.Count; });
        
                var node = svg.selectAll(".node")
                    .data(bubble(nodes).descendants())
                    .enter()
                    .filter(function(d){
                        return  !d.children
                    })
                    .append("g")
                    .attr("class", "node")
                    .attr("transform", function(d) {
                        return "translate(" + d.x + "," + d.y + ")";
                    });
        
                node.append("title")
                    .text(function(d) {
                        return d.Name + ": " + d.Count;
                    });
        
                node.append("circle")
                    .attr("r", function(d) {
                        return d.r;
                    })
                    .style("fill", function(d,i) {
                        return color(i);
                    });
        
                node.append("text")
                    .attr("dy", ".2em")
                    .style("text-anchor", "middle")
                    .text(function(d) {
                        console.log(d.data.children);
                        return d.data.Name.substring(0, d.r / 3);
                    })
                    .attr("font-family", "sans-serif")
                    .attr("font-size", function(d){
                        return d.r/5;
                    })
                    .attr("fill", "white");
        
                node.append("text")
                    .attr("dy", "1.3em")
                    .style("text-anchor", "middle")
                    .text(function(d) {
                        return d.data.Count;
                    })
                    .attr("font-family",  "Gill Sans", "Gill Sans MT")
                    .attr("font-size", function(d){
                        return d.r/5;
                    })
                    .attr("fill", "white");
        
                d3.select(self.frameElement)
                    .style("height", diameter + "px");
        
        
        
            </script>
        </div>

    </div>
    
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
    var icon = "\uf005";
    var fontSize = 24;
    var iconSpace = 3;
    var legendSpace = 20;
    var legendX = 300;
    var legendY = 20;
    var legendTitle = "Temporadas";
    var color = d3.scale.ordinal()
                    .range(["#444e44", "#c1beba", "#d9d7d5", "#ae8d0b", "#eec64f", "#ffd100"]);
    var dataRating = ["Temp1", "Temp2", "Especial", "Temp3", "Temp4", "Película"]
    var dataIcons = [[dataRating[0], icon], [dataRating[1], icon], [dataRating[2], icon], [dataRating[3], icon], [dataRating[4], icon]];
    var dataText = ["2 nominaciones en la 1° temporada", "1 nominación en la segunda", "4 nominaciones para el episodio especial", "19 Nominaciones y 6 premios para la 3° temporada", "30 Nominaciones y 8 premios para la 4° temporada", "10 Nominaciones y 5 premios para la película"];
    var data = [[dataRating[0], icon, dataText[0]],[dataRating[0], icon, dataText[0]],
                [dataText[1], icon, dataText[1]], 
                [dataText[2], icon, dataText[2]], 
                [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], [dataText[3], icon, dataText[3]], 
                [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], [dataText[4], icon, dataText[4]], 
                [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], [dataText[5], icon, dataText[5]], 
                ];
    
    function updateText(className, newText){
        $(className).text(newText);
    }
    
    function plotPictogramChart(d) {	
        var row = 0;
        var chart = d3.select("svg")
                        .attr("transform", "translate(0, 0)");
    
        var icons = chart.selectAll("g")
                        .data(d).enter()
                            .append("g");
        
        icons.append("text")
            .on("mouseover", function(d){ updateText("p", d[2]); })
            .attr("x", function(d, i){ return ((i%10 + 1) * (fontSize + 1 + iconSpace)) - fontSize;})
            .attr("y", function(d, i){ if(i%10 == 0){row++}; return row * fontSize;})
            .attr('font-family', 'FontAwesome')
            .attr('font-size', fontSize)
            .attr("fill", function(d){ return color(d);})
            .text(function(d) { return "\u00A0 " + d[1]; });
            
        var legend = chart.append('g')
            .attr('class', 'legend')
            .attr('transform', function(d, i) { return "translate(" + legendX + ", " + legendY + ")"; });
        
        legend.append("text")
            .attr("transform", "translate(0, 5)")
            .text(legendTitle);
            
        var legendItems = legend.selectAll("g")
            .data(dataIcons).enter()
                .append("g")
                    .attr("class", "item")
                    .attr("transform", function(d, i){ return "translate(0, " + (i*legendSpace + fontSize) + ")"; });
        
        legendItems.append("text")
            .attr('font-family', 'FontAwesome')
            .attr("fill", function(d){ return color(d);})
            .text(function(d) { return d[1]; });
        
        legendItems.append("text")
            .attr("transform", function(d){ return "translate(" + legendSpace + ", 0)"; })
            .text(function(d) { return d[0]; });
    }
    
    plotPictogramChart(data);
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

</body>
</html>